<div class="map-multipoint">
    <div class="row-fluid" ng-class="{hiddenbutspaced: activeMarker != false}">
        <p class="question-title" style="font-size: 24px;">
            Add each of your activity locations to the map.
        </p>
        <!-- <p class="question-sub-text">Zoom in closely before adding locations.</p> -->
    </div>
    <div class="row-fluid" ng-show="activeMarker == false">
        <span zoomto onload="openModal()" states="survey.states" zoomtoresult="zoomToResult"></span>
        <button class="btn btn-large" style="margin-left:20px;" ng-click="showActivities()"><i class="icon-list"></i> My Activities</button>
    </div>
    <div class="row-fluid confirmation" style="margin-bottom:10px;" ng-hide="activeMarker == false">
        <h2 class="pull-left" style="margin-right: 20px; line-height: 20px;">Is this location correct?</h2>
        <a class="btn btn-large btn-primary confirm" ng-click="confirmLocation()">Yes</a>
        <a class="btn btn-large cancel" ng-click="cancelConfirmation()">No, let's try again</a>
    </div>
    <div class="row-fluid">
        <div class="span12">
            <div leaflet 
                center="map.center" 
                zoom="map.zoom" 
                requiredzoom="question.min_zoom" 
                conflocation="activeMarker != false" 
                marker="map.marker" 
                multimarkers="locations" 
                popupfield="'answers'" 
                addmarker="addMarker" 
                multimarkersedit="activeMarker == false"
                editmarker="editMarker"
                zoomtoresult="zoomToResult"></div>
        </div>
    </div>
    <div class="row-fluid" ng-show="activeMarker == false && locations.length > 0">
        <button type="submit" class="btn btn-primary btn-block btn-large" ng-click="answerQuestion(locations)">Continue</button>
    </div>

    <div style="display:none">
        <!-- testing controls -->
        <input ng-model="map.zoom" />
        <input ng-model="map.marker.lat" />
        <input ng-model="map.marker.lng" />
    </div>
</div>